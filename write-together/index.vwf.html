<link rel="stylesheet" href="css/application.css"></link>

<script type="text/javascript">
  $(function(){
    // Horrible hack to set the page to be white
    $('html').css('backgroundColor', '#fff');
    $('div').css('backgroundColor', '#fff');

    // Grab the content property from the kernel and shove it in the textarea    
    var editorNodeId = vwf_view.kernel.find(undefined, '/editor');

    console.log(editorNodeId);
    
    vwf_view.satProperty = function (nodeId, propertyName, propertyValue) {
      if ( nodeId == editorNodeId ) {
        switch ( propertyName ) {
          case "content":
            $(".write-together-editor").val(propertyValue);
            break;
        }
      }
    }

    $('.write-together-editor').change(function() {
      vwf_view.kernel.setProperty( editorNodeId, "content", $(this).val() );
      console.log('content changed');
    });
  });
</script>

<div class="container full-screen">
  <div class="row">
    <h1>Write Together</h1>
    <textarea class="write-together-editor" rows="10">Yo mama</textarea>
  </div>
</div>
