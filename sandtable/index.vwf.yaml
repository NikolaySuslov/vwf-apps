--- 
extends: appscene.vwf
source: index.xml
type: model/x-glge
properties:
  ambientColor: [ 183, 183, 183 ]
  activeCamera: "http-vwf-example-com-types-camera-maincamera"
  backgroundColor: [ 83, 157, 194 ]
  loadDone: false
scripts:
- text: |
    this.initialize = function() {
      //console.info( "================ sandtable ================" );
      this.activeCamera = "http-vwf-example-com-types-camera-maincamera";
      this.loadDone = true;
      vwf.setProperty( "http-vwf-example-com-types-camera-maincamera", "lookAt", "http-vwf-example-com-types-group3-worldCenter" );
    }
    this.toolbar.selectedColorChanged.add( function( color ) {
      // console.info( "selected color", color, this.toolbar.selectedColor );
    }, this );
    this.toolbar.inputModeChanged.add( function( mode ) {
      // console.info( "selected color", color, this.toolbar.selectedColor );
    }, this );    
  type: application/javascript
children:
  toolbar:
    properties:
      selectedColor:
        set: |
          this.selectedColor = value;
          this.selectedColorChanged( value );
        value:
          "black"
      inputMode:
        set: |
          this.inputMode = value;
          this.inputModeChanged( value );
        value:
          "orbit"      
    methods:
      clear: |
        this.parent.clearing();
    events:
      selectedColorChanged:
      inputModeChanged:
      clearing:
  flat_terrain:
    extends: http://vwf.example.com/types/node3
    source: models/vwf_terrain.dae
    type: model/vnd.collada+xml
    properties:
      position: [ 0, 0, -150 ]
      eulers: [0, 0, 0 ]
      scale: [ 0.008, 0.008, 0.006 ]
  worldCenter:
    extends: http://vwf.example.com/types/group3
    properties:
      position: [ 0, 0, 0 ]
  maincamera:
    extends: http://vwf.example.com/types/camera
    properties:
      walkMode: "walk"
      cameraType: "perspective"
      position: [ 0, 20000, 10000 ]
      rotation: [ 1.56, 3.14, 0 ]
      far: 500000
      near: 2
      lookAt: "http-vwf-example-com-types-group3-worldCenter"
    scripts:
    - text: |
        this.initialize = function() {
          this.lookAt = "http-vwf-example-com-types-group3-worldCenter";
        }
      type: application/javascript      
  light1:
    extends: http://vwf.example.com/types/light
    properties:
      lightType: "point"
      constantAttenuation: 1
