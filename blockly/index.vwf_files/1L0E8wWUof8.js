/*!CK:2621934269!*//*1394332907,178130527*/

if (self.CavalryLogger) { CavalryLogger.start_js(["L5idM"]); }

__d("objPull",["createObjectFrom"],function(a,b,c,d,e,f,g){"use strict";var h=function(i){var j=Array.prototype.slice.call(arguments,1);return j.length?g(j,j.map(function(k){return i[k];})):h.bind(null,i);};e.exports=h;});
__d("BrowseLogger",["Banzai","copyProperties","objMap","objPull","Run"],function(a,b,c,d,e,f,g,h,i,j,k){var l='browse',m='browse_aggr',n=null,o={},p={},q=function(y){if(y==null)return 'undefined';var z=y.tagName.toLowerCase(),aa=y.id,ba=y.className;if(aa)z+='#'+aa;if(ba)z+='.'+ba;return z;};function r(){n=null;o={};p={};}function s(y){h(y,{clientSessionID:n});return y;}function t(y){g.post(l,s(y));}function u(){if(n===null)return;p.aggregated=o;g.post(m,s(p));r();}function v(y){o[y]=(o[y]||0)+1;}function w(y){h(p,y);}k.onUnload(u);var x={newSession:function(){u();n=Math.random().toString();if(!p.start_time)p.start_time=Math.round(Date.now()/1000);},logResultClick:function(y,z,aa,ba){var ca={action:'result_click',click_type:y.ct||'result',section:y.section||'unknown',id:y.id||0,path:y.path||'unknown',rank:y.rank||0,referrer:y.referrer||'unknown',result_type:y.result_type||'unknown',session_id:y.session_id||0,query_time:y.query_time,abtest_version:y.abtest_version||'NONE',abtest_params:y.abtest_params,typeahead_sid:y.typeahead_sid||'',result_title:y.result_title||'unknown',result_href:y.result_href||'unknown',result_semantic:y.result_semantic||'unknown',type:y.experience_type||'unknown',click_action:aa,sub_id:y.sub_id,owner_id:y.owner_id};if(z.tn)ca.tn=z.tn;if(y.cst)ca.click_subtype=y.cst;v('result_click_'+ca.click_type);w({path:ca.path,referrer:ca.referrer,result_type:ca.result_type,session_id:ca.session_id,abtest_version:ca.abtest_version,abtest_params:ca.abtest_params,typeahead_sid:ca.typeahead_sid});t(ca);if(!y.id)t({action:'logging_error',click_action:aa,click_type:ca.click_type,attributes:JSON.stringify(y),element:i(j(ba,'srcElement','target','toElement'),q),event:j(ba,'button','clientX','clientY','ctrlKey','layerX','layerY','offsetX','offsetY','pageX','pageY','screenX','screenY','shiftKey','type','x','y')});},logControlsClick:function(y,z){var aa={action:'controls_click',click_type:z,path:y.path||'unknown',referrer:y.referrer||'unknown',session_id:y.session_id||0,query_time:y.query_time,filter_name:y.name||'unknown',typeahead_sid:y.typeahead_sid||'',result_type:y.result_type||'unknown',type:y.experience_type||'unknown'};if(y.cst)aa.click_subtype=y.cst;v('controls_click_'+z);w({path:aa.path,referrer:aa.referrer,session_id:aa.session_id,typeahead_sid:aa.typeahead_sid});t(aa);},logResultHover:function(y,z){var aa={action:'result_hover',id:y.id||0,path:y.path||'unknown',rank:y.rank,result_type:y.result_type||'unknown',session_id:y.session_id||0,query_time:y.query_time,time_elapsed:z,typeahead_sid:y.typeahead_sid||0,type:y.experience_type||'unknown'};v('result_hover');w({path:aa.path,session_id:aa.session_id,typeahead_sid:aa.typeahead_sid});t(aa);},logScroll:function(y,z,aa,ba){var ca={action:'scroll',encoded_query:y,fragments:z,position:aa,session_id:ba||0};t(ca);},logNUXStep:function(y){var z={action:'nux_step',step:y};t(z);},logDisambiguationImpression:function(y,z,aa,ba,ca){var da={action:'disambiguation_imp',ids:ba,name:y,path:aa,type:z,typeahead_sid:ca};t(da);},logDisambiguationClick:function(y,z,aa,ba,ca,da){var ea={action:'disambiguation_clk',id:ca,index:ba,name:y,path:aa,type:z,typeahead_sid:da};t(ea);}};e.exports=x;});
__d("NodeHighlighter",["concatMap","createArrayFrom","escapeRegex","TokenizeUtil","DOM"],function(a,b,c,d,e,f,g,h,i,j,k){var l={};function m(p,q){var r=k.getText(p).split(q),s=r.map(function(t){if(q.test(t))return n(t);return t||'';});return r.length>1?s:null;}function n(p){var q=k.create('span',{'class':'highlightNode',className:'highlightNode'},p);return q;}var o={getTextNodes:function(p){if(this.isLeafNode(p)||this.isStopNode(p)){return p;}else if(this.isDiscardNode(p))return [];return g(this.getTextNodes.bind(this),h(p.childNodes));},getHighlightCandidates:function(){return [];},isLeafNode:function(p){return k.isTextNode(p);},isStopNode:function(p){return false;},isDiscardNode:function(p){return false;},createSegmentedRegex:function(p){var q=j.getPunctuation();p=this.escapeAndAddBidirectionalCharsToTokens(p);return '(^|\\s|'+q+')('+p.join('|')+')(?=(?:$|\\s|'+q+'))';},createNonSegmentedRegex:function(p){return '('+p.map(i).join('|')+')';},escapeAndAddBidirectionalCharsToTokens:function(p){var q='[\\u200E\\u200F\\u202A\\u202B\\u202C\\u202D\\u202E]*';return p.map(function(r){return q+String(r).split('').map(i).join(q)+q;});},createRegex:function(p){p=p.filter(function(w){return w;});if(!p||p.length===0)return new RegExp(null);var q=p.join('|');if(l[q])return l[q];var r=/[\u0E00-\u109F\u2000-\uFFFF]/,s=[],t=[];p.forEach(function(w){if(r.test(w)){t.push(w);}else s.push(w);});var u='';if(s.length){u+=this.createSegmentedRegex(s);u+=(t.length)?'|':'';}if(t.length)u+=this.createNonSegmentedRegex(t);var v=new RegExp(u,'i');l[q]=v;return v;},searchNodes:function(p,q){return k.scry(p,q);},highlight:function(p,q){q=q.filter(function(t){return t;});if(!q||q.length===0||!p)return;var r=g(function(t){return g(this.getTextNodes.bind(this),this.searchNodes(p,t));}.bind(this),this.getHighlightCandidates()),s=this.createRegex(q);r.forEach(function(t){var u=m(t,s);if(u)if(this.isStopNode(t)){k.setContent(t,u);}else k.replace(t,u);}.bind(this));}};e.exports=o;});
__d("LitestandNewsfeedCountUpdater",["Arbiter","AsyncRequest","LitestandMessages","LitestandSidebarBookmarkConfig","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k){var l,m;function n(){m&&clearTimeout(m);if(l)return;m=setTimeout(o,j.nf_count_query_interval_ms,false);}function o(){if(l)return;new h().setURI('/ajax/litestand/newsfeed_count').setHandler(function(r){if(l)return;p(r.getPayload());n();}).setAllowCrossPageTransition(true).send();}function p(r){g.inform(i.UPDATE_HOME_COUNT,{count:r,onHome:l},g.BEHAVIOR_STATE);}var q={init:function(){q.init=k;g.subscribe(i.NEWSFEED_LOAD,function(){l=true;p(0);});g.subscribe(i.LEAVE_HOME,function(){l=false;n();});n();}};e.exports=q;});
__d("LitestandChromeHomeCount",["Arbiter","CSS","DOM","LitestandMessages","LitestandNewsfeedCountUpdater","$","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=20,p,q,r,s,t={init:function(u){s=u;q=i.find(l('pageHead'),"._5ahz");p=q.parentNode;r=false;g.subscribe(j.UPDATE_HOME_COUNT,function(v,w){t.updateBadge(w.onHome?0:w.count);});k.init();t.updateBadge(s);},updateBadge:function(u){s=u;var v=u>0;t.toggleBadge(v);if(v){var w=u>o?o+'+':u;i.setContent(q,w);}},toggleBadge:function(u){if(r===u)return;r=u;h.conditionClass(p,"_5ahy",!u);}};e.exports=t;});
__d("clip",[],function(a,b,c,d,e,f){function g(h,i,j){return Math.min(Math.max(h,i),j);}e.exports=g;});
__d("FacebarTypeaheadRecorderBasic",["FacebarTypeaheadRecorder","copyProperties"],function(a,b,c,d,e,f,g,h){function i(j){"use strict";this._typeahead=j;}i.prototype.enable=function(){"use strict";var j=this._typeahead;this._recorder=new g(j);};i.prototype.disable=function(){"use strict";this._typeahead.unsubscribe(this._subscription);this._recorder=null;this._subscription=null;};h(i.prototype,{_subscription:null});e.exports=i;});
__d("StructuredInputDOM",["createArrayFrom","CSS","cx","DOM"],function(a,b,c,d,e,f,g,h,i,j){var k={ENTITY_CLASS:"_586o",encodeText:function(l){return l.replace(/ /g,'\u00a0');},decodeText:function(l){return l.replace(/\u00a0/g,' ');},createIconNode:function(l){if(l&&typeof l=='object'){var m=j.create('i',{className:l.className,style:l.uri&&{backgroundImage:'url("'+l.uri+'")'}});m.setAttribute('data-select','ignore');return m;}},createTextNode:function(l){return j.create('span',{'data-si':true},k.encodeText(l||""));},createEntityNode:function(l,m){var n=k.encodeText(l.text),o=k.createIconNode(m.icon),p=j.create('span',{},o?[o,n]:n),q=(m.className||'').split(/\s+/);q.push(k.ENTITY_CLASS);q.forEach(h.addClass.bind(h,p));var r={si:true,uid:l.uid,type:l.type,text:n,fulltext:n,group:m.group,select:m.select,icon:JSON.stringify(m.icon||null)};for(var s in r)if(r[s]!=null)p.setAttribute('data-'+s,r[s]);return p;},convertToTextNode:function(l){l.className='';l.setAttribute('data-type','text');l.removeAttribute('data-group');l.removeAttribute('data-select');l.removeAttribute('data-icon');l.removeAttribute('data-uid');for(var m=l.firstChild;m;m=m.nextSibling)if(!j.isTextNode(m))j.remove(m);},isEntityNode:function(l){return j.isElementNode(l)&&h.hasClass(l,k.ENTITY_CLASS);},containsOnlyText:function(l,m){m=g(m);for(var n=l.firstChild;n;n=n.nextSibling)if(!(j.isTextNode(n)||l.nodeName in m))return false;return true;},getText:function(l){return j.getText(l).replace(/ /g,'\u00a0');},getDecodedText:function(l){return k.decodeText(j.getText(l));},getLength:function(l){return j.getText(l).length;},getMarker:function(l,m,n){var o=l.firstChild;while(o){var p=k.getLength(o);if(p>m||!o.nextSibling){if(j.isTextNode(o)||!n){return {node:o,offset:Math.min(m,p)};}else return k.getMarker(o,m);}else m-=p;o=o.nextSibling;}}};e.exports=k;});